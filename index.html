<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Selamat Ulang Tahun Hamidah ðŸŽ‰</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Great+Vibes&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg: #0a0a0a;
      --fg: #ffffff;
      --accent: #ff3cac;
      --accent2: #784ba0;
      --glass: rgba(255 255 255 / 0.05);
      --shadow: 0 12px 40px rgba(255, 60, 172, 0.2);
    }
    * {
      margin: 0; padding: 0;
      box-sizing: border-box;
    }
    body {
      background-color: var(--bg);
      font-family: 'Inter', sans-serif;
      color: var(--fg);
      overflow: hidden;
      height: 100vh;
      position: relative;
    }
    .stars, .balloons {
      position: fixed;
      width: 100vw;
      height: 100vh;
      top: 0; left: 0;
      pointer-events: none;
      overflow: visible;
      z-index: 1;
    }
    #matrixCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 0;
      background: transparent;
      filter: brightness(1.1) blur(0.4px);
    }

    .star {
      position: absolute;
      background: #fff;
      border-radius: 50%;
      opacity: 0.4;
      filter: drop-shadow(0 0 2px rgba(255,255,255,0.3));
      animation: floatStars 12s linear infinite;
    }
    @keyframes floatStars {
      0% { transform: translateY(0); }
      100% { transform: translateY(-100vh); }
    }

    .balloon {
      position: absolute;
      width: 24px;
      height: 36px;
      border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
      box-shadow: inset 0 5px 10px rgba(255,255,255,0.35), 0 3px 10px rgba(0,0,0,0.3);
      opacity: 0.85;
      animation: floatBalloonUp linear infinite;
      bottom: -50px;
      will-change: transform;
      z-index: 2;
    }
    .balloon::after {
      content: "";
      position: absolute;
      bottom: -18px;
      left: 50%;
      transform: translateX(-50%);
      width: 2px;
      height: 18px;
      background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0.2));
      border-radius: 1px;
      opacity: 0.6;
    }
    @keyframes floatBalloonUp {
      0% { transform: translateY(0); opacity: 0; }
      10% { opacity: 1; }
      100% { transform: translateY(-130vh); opacity: 0.3; }
    }

    .scene {
      position: absolute;
      top: 50%;
      left: 50%;
      max-width: 720px;
      width: 90vw;
      transform: translate(-50%, -50%) scale(0.98);
      opacity: 0;
      pointer-events: none;
      z-index: 3;
      text-align: center;
      transition: opacity 1s ease, transform 0.8s ease;
      padding: 48px;
      background: rgba(255,255,255,0.04);
      border-radius: 20px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,0.09);
      backdrop-filter: blur(1px);
    }
    .scene.active {
      opacity: 1;
      pointer-events: auto;
      transform: translate(-50%, -50%) scale(1);
    }
    h1 {
      font-family: 'Great Vibes', cursive;
      font-size: 3.6rem;
      color: var(--accent);
      margin-bottom: 24px;
      text-shadow: 0 0 8px var(--accent);
    }
    p {
      font-size: 1.15rem;
      line-height: 1.7;
      color: #e0e0e0;
      text-shadow: 0 0 6px rgba(0,0,0,0.3);
    }

    .loading-text::after {
      content: '';
      display: inline-block;
      width: 1ch;
      animation: dots 1.5s steps(3, end) infinite;
    }

    @keyframes dots {
      0%   { content: ''; }
      33%  { content: '.'; }
      66%  { content: '..'; }
      100% { content: '...'; }
    }
  </style>
</head>
<body>
  <canvas id="matrixCanvas" class="matrix"></canvas>
  <div class="stars" id="stars"></div>
  <div class="balloons" id="balloons"></div>

  <div class="scene active" id="scene1">
    <h1>Loading...</h1>
    <p><strong>Hamidah Nur, S.Pd</strong> ðŸ’–</p>
  </div>

  <div class="scene" id="scene2">
    <h1>Puisi</h1>
    <p id="typed"></p>
  </div>

  <div class="scene" id="scene3">
    <h1>Selamat Ulang Tahun, Sayang ðŸŽ‰</h1>
    <p>You all the best</p>
  </div>

  <div class="scene" id="scene4">
    <h1>Kejutan Selanjutnya...</h1>
    <p class="loading-text">Sebentar...</p>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
  <script>
    const scenes = ['scene1', 'scene2', 'scene3', 'scene4'];
    let current = 0;
    let firstCycleDone = false;

    const showScene = (id) => {
      document.querySelectorAll('.scene').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    };

    const startTypedPoem = () => {
      new Typed("#typed", {
        strings: [
          "Hai sayang...",
          "Hari ini langit tampak biasa saja...",
          "Mereka merayakanmu dengan tawa...",
          "Waktu adalah pisau yang halus...",
          "Apa gunanya kau bertambah dewasa...",
          "Kau tersenyum di foto...",
          "Tak ada ucapan dariku, hanya serangkaian kata..."
        ],
        typeSpeed: 40,
        backSpeed: 15,
        loop: false,
        showCursor: false,
        onComplete: () => {
          setTimeout(loopScenes, 3000);
        }
      });
    };

    const loopScenes = () => {
      current = (current + 1) % scenes.length;
      showScene(scenes[current]);

      if (scenes[current] === 'scene2' && !firstCycleDone) {
        firstCycleDone = true;
        startTypedPoem();
      } else {
        setTimeout(loopScenes, 4000);
      }
    };

    window.addEventListener("load", () => {
      setTimeout(loopScenes, 2500);
    });

    // Stars
    const starsContainer = document.getElementById('stars');
    for (let i = 0; i < 80; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      star.style.top = Math.random() * 100 + 'vh';
      star.style.left = Math.random() * 100 + 'vw';
      const size = Math.random() * 2 + 1;
      star.style.width = star.style.height = size + 'px';
      star.style.animationDuration = (Math.random() * 10 + 10) + 's';
      starsContainer.appendChild(star);
    }

    // Balloons
    const balloonsContainer = document.getElementById('balloons');
    for (let i = 0; i < 25; i++) {
      const balloon = document.createElement('div');
      balloon.className = 'balloon';
      balloon.style.left = Math.random() * 100 + '%';
      balloon.style.background = `hsl(${Math.random() * 360}, 70%, 65%)`;
      balloon.style.animationDelay = Math.random() * 20 + 's';
      balloon.style.animationDuration = (15 + Math.random() * 10) + 's';
      balloonsContainer.appendChild(balloon);
    }

    // Matrix Rain
    const canvas = document.getElementById("matrixCanvas");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const fontSize = 14;
    const columns = Math.floor(canvas.width / fontSize);
    const drops = new Array(columns).fill(1);

    function drawMatrixRain() {
      ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = "#ffffff";
      ctx.font = fontSize + "px monospace";

      for (let i = 0; i < drops.length; i++) {
        const text = Math.random() > 0.5 ? "0" : "1";
        ctx.fillText(text, i * fontSize, drops[i] * fontSize);
        if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
          drops[i] = 0;
        }
        drops[i]++;
      }
    }

    setInterval(drawMatrixRain, 50);
  </script>
</body>
</html>
